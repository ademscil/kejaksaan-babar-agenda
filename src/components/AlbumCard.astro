---
interface Props {
  title: string;
  date: Date;
  coverImage: string;
  slug: string;
  imageCount: number;
}

const { title, date, coverImage, slug, imageCount } = Astro.props;

const formatDate = (date: Date) => {
  return new Intl.DateTimeFormat('id-ID', { 
    day: 'numeric', 
    month: 'long', 
    year: 'numeric' 
  }).format(date);
};
---

<article class="group bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-xl transition-all duration-300 hover:-translate-y-1">
  <a href={`/galeri/${slug}`} class="block">
    <div class="aspect-square overflow-hidden bg-gray-100 relative">
      <img 
        src={coverImage} 
        alt={title}
        class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"
        loading="lazy"
      />
      <div class="absolute bottom-3 right-3 bg-black/70 text-white px-3 py-1 rounded-lg text-sm font-medium">
        {imageCount} foto
      </div>
    </div>
    <div class="p-5">
      <h3 class="text-lg font-bold text-gray-900 mb-2 group-hover:text-primary-600 transition-colors line-clamp-2">
        {title}
      </h3>
      <time class="text-sm text-gray-500">{formatDate(date)}</time>
    </div>
  </a>
</article>
